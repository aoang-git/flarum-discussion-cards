{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@walsgit/flarum-discussion-cards/webpack/bootstrap","webpack://@walsgit/flarum-discussion-cards/webpack/runtime/compat get default export","webpack://@walsgit/flarum-discussion-cards/webpack/runtime/define property getters","webpack://@walsgit/flarum-discussion-cards/webpack/runtime/hasOwnProperty shorthand","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['app']\"","webpack://@walsgit/flarum-discussion-cards/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@walsgit/flarum-discussion-cards/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['admin/app']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['admin/components/UploadImageButton']\"","webpack://@walsgit/flarum-discussion-cards/./src/admin/helpers/isExtensionInstalled.js","webpack://@walsgit/flarum-discussion-cards/./src/admin/helpers/isExtensionActive.js","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@walsgit/flarum-discussion-cards/./src/admin/components/Settings.js","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['extend']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['common/Model']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['common/components/Button']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['tags/models/Tag']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['tags/components/EditTagModal']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@walsgit/flarum-discussion-cards/./src/admin/components/WdcTagSettingsModal.js","webpack://@walsgit/flarum-discussion-cards/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@walsgit/flarum-discussion-cards/./src/admin/components/UploadTagImageButton.js","webpack://@walsgit/flarum-discussion-cards/./src/admin/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['app'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/UploadImageButton'];","export default function isExtensionInstalled(extensionName) {\r\n    if (app.data.extensions.hasOwnProperty(extensionName)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}","export default function isExtensionActive(extensionName) {\r\n    if (app.data.settings.extensions_enabled.includes(extensionName)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","import app from \"flarum/admin/app\";\r\nimport ExtensionPage from \"flarum/admin/components/ExtensionPage\";\r\nimport UploadImageButton from 'flarum/admin/components/UploadImageButton';\r\nimport isExtensionInstalled from \"../helpers/isExtensionInstalled\";\r\nimport isExtensionActive from \"../helpers/isExtensionActive\";\r\nimport icon from \"flarum/common/helpers/icon\";\r\n\r\nexport default class Settings extends ExtensionPage {\r\n\tcontent() {\r\n\t\t/* Supported third party extensions' info */\r\n\t\tconst viewsExtension = {\r\n\t\t\tid: 'flarumite-simple-discussion-views',\r\n\t\t\tname: 'Flarumite Simple Discussion Views',\r\n\t\t\turl: 'https://flarum.org/extension/flarumite/simple-discussion-views',\r\n\t\t};\r\n\t\tconst mbViewsExtension = {\r\n\t\t\tid: 'michaelbelgium-discussion-views',\r\n\t\t\tname: 'michaelbelgium/flarum-discussion-views',\r\n\t\t\turl: 'https://flarum.org/extension/michaelbelgium/flarum-discussion-views',\r\n\t\t};\r\n\t\tconst blogExtension = {\r\n\t\t\tid: 'v17development-blog',\r\n\t\t\tname: 'Flarum Blog',\r\n\t\t\turl: 'https://flarum.org/extension/v17development/flarum-blog',\r\n\t\t};\r\n\t\tconst repostExtension = {\r\n\t\t\tid: 'shebaoting-repost',\r\n\t\t\tname: 'Repost',\r\n\t\t\turl: 'https://flarum.org/extension/shebaoting/repost',\r\n\t\t};\r\n\r\n\t\tconst warningIcon = icon(\"fas fa-exclamation-triangle\");\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"DiscussionCardsSettings\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"DiscussionCardsSettings--content\">\r\n\t\t\t\t\t\t<h3>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.where_title\")}</h3>\r\n\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.where_info\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"Section\">\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"flarum-tags.select-tags\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_allowedTags\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.allowedTags_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.allowedTags_help\"),\r\n\t\t\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\t\t\trequireParentTag: false,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_onIndexPage\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.onIndexPage_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.onIndexPage_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h3>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.primaryCardOptions_title\")}</h3>\r\n\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.primaryCardOptions_info\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"Section\">\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\t\t\t\tclassName: 'DC-Number',\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_primaryCards\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.primaryCards_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.primaryCards_help\"),\r\n\t\t\t\t\t\t\t\tmin: 0,\r\n\t\t\t\t\t\t\t\tstep: 1,\r\n\t\t\t\t\t\t\t\tplaceholder: 4,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\t\t\t\tclassName: 'DC-Number',\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_desktopCardWidth\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.desktopCardWidth_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.desktopCardWidth_help\"),\r\n\t\t\t\t\t\t\t\tmin: 10,\r\n\t\t\t\t\t\t\t\tmax: 100,\r\n\t\t\t\t\t\t\t\tstep: 1,\r\n\t\t\t\t\t\t\t\tplaceholder: 49,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\t\t\t\tclassName: 'DC-Number',\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_tabletCardWidth\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.tabletCardWidth_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.tabletCardWidth_help\"),\r\n\t\t\t\t\t\t\t\tmin: 10,\r\n\t\t\t\t\t\t\t\tmax: 100,\r\n\t\t\t\t\t\t\t\tstep: 1,\r\n\t\t\t\t\t\t\t\tplaceholder: 49,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h3>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.cardOptions_title\")}</h3>\r\n\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.cardOptions_info\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"Section\">\r\n\t\t\t\t\t\t\t<div className=\"DC-DefaultImageSettings\">\r\n\t\t\t\t\t\t\t\t<h4>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.defaultImage_title\")}</h4>\r\n\t\t\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.defaultImage_info\")}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t{app.forum.attribute(\"walsgitDiscussionCardsDefaultImage\") === null \r\n\t\t\t\t\t\t\t\t\t? <div className=\"imgStub\"></div> \r\n\t\t\t\t\t\t\t\t\t: <img className=\"DC-UserUploadedImage\" src={app.forum.attribute(\"baseUrl\") + \"/assets/\" + app.forum.attribute(\"walsgitDiscussionCardsDefaultImage\")}/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{m(UploadImageButton, {name: \"walsgit_discussion_cards_default_image\", class: \"DC-UploadImageBtn\"})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_previewText\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.previewText_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.previewText_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showAuthor\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showAuthor_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showAuthor_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showReplies\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showReplies_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showReplies_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showRepliesOnRight\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showRepliesOnRight_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showRepliesOnRight_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showLastPostInfo\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showLastPostInfo_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showLastPostInfo_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showBadges\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showBadges_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showBadges_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_markReadCards\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.markReadCards_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.markReadCards_help\"),\r\n\t\t\t\t\t\t\t})}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* 3rd party extensions options */}\r\n\t\t\t\t\t\t<h3>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.otherOptions_title\")}</h3>\r\n\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.otherOptions_info\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t{/* flarumite/simple-discussion-views OR michaelbelgium/flarum-ext-discussion-views */}\r\n\t\t\t\t\t\t<div className=\"Section\">\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showViews_title_start\")}\r\n\t\t\t\t\t\t\t\t<a href={viewsExtension.url} target=\"_blank\" rel=\"noopener noreferrer\">{viewsExtension.name}</a>\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showViews_title_or\")}\r\n\t\t\t\t\t\t\t\t<a href={mbViewsExtension.url} target=\"_blank\" rel=\"noopener noreferrer\">{mbViewsExtension.name}</a>\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showViews_title_end\")}\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t<div className=\"helpText\">\r\n\t\t\t\t\t\t\t\t<em>\r\n\t\t\t\t\t\t\t\t\t{!isExtensionInstalled(viewsExtension.id) && !isExtensionInstalled(mbViewsExtension.id)\r\n\t\t\t\t\t\t\t\t\t? app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.viewsExtension_notInstalled\", {icon: warningIcon}) : \r\n\t\t\t\t\t\t\t\t\t(isExtensionInstalled(viewsExtension.id) && !isExtensionActive(viewsExtension.id)) || (isExtensionInstalled(mbViewsExtension.id) && !isExtensionActive(mbViewsExtension.id)) \r\n\t\t\t\t\t\t\t\t\t? app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.viewsExtension_notActivated\", {icon: warningIcon}) :\r\n\t\t\t\t\t\t\t\t\t''}\r\n\t\t\t\t\t\t\t\t</em>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showViews\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showViews_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showViews_help\"),\r\n\t\t\t\t\t\t\t\tdisabled: isExtensionActive(viewsExtension.id) || isExtensionActive(mbViewsExtension.id) ? false : true,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t<hr></hr>\r\n\t\t\t\t\t\t\t{/* v17development/flarum-blog */}\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.blogExtension_title_start\")}\r\n\t\t\t\t\t\t\t\t<a href={blogExtension.url} target=\"_blank\" rel=\"noopener noreferrer\">{blogExtension.name}</a>\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.blogExtension_title_end\")}\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t<div className=\"helpText\">\r\n\t\t\t\t\t\t\t\t<em>\r\n\t\t\t\t\t\t\t\t\t{!isExtensionInstalled(blogExtension.id) \r\n\t\t\t\t\t\t\t\t\t? app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.blogExtension_notInstalled\", {icon: warningIcon}) : \r\n\t\t\t\t\t\t\t\t\t!isExtensionActive(blogExtension.id) \r\n\t\t\t\t\t\t\t\t\t? app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.blogExtension_notActivated\", {icon: warningIcon}) :\r\n\t\t\t\t\t\t\t\t\t''}\r\n\t\t\t\t\t\t\t\t</em>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_useBlogImages\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.useBlogImages_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.useBlogImages_help\"),\r\n\t\t\t\t\t\t\t\tdisabled: isExtensionActive(blogExtension.id) ? false : true,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_useBlogSummary\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.useBlogSummary_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.useBlogSummary_help\"),\r\n\t\t\t\t\t\t\t\tdisabled: isExtensionActive(blogExtension.id) ? false : true,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t<hr></hr>\r\n\t\t\t\t\t\t\t{/* shebaoting/repost */}\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.repostExtension_title_start\")}\r\n\t\t\t\t\t\t\t\t<a href={repostExtension.url} target=\"_blank\" rel=\"noopener noreferrer\">{repostExtension.name}</a>\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.repostExtension_title_end\")}\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t<div className=\"helpText\">\r\n\t\t\t\t\t\t\t\t<em>\r\n\t\t\t\t\t\t\t\t\t{!isExtensionInstalled(repostExtension.id) \r\n\t\t\t\t\t\t\t\t\t? app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.repostExtension_notInstalled\", {icon: warningIcon}) : \r\n\t\t\t\t\t\t\t\t\t!isExtensionActive(repostExtension.id) \r\n\t\t\t\t\t\t\t\t\t? app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.repostExtension_notActivated\", {icon: warningIcon}) :\r\n\t\t\t\t\t\t\t\t\t''}\r\n\t\t\t\t\t\t\t\t</em>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_allowRepostLinks\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.allowRepostLinks_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.allowRepostLinks_help\"),\r\n\t\t\t\t\t\t\t\tdisabled: isExtensionActive(repostExtension.id) ? false : true,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{this.submitButton()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tonsubmit() {\r\n\t\tconst primaryCards = Number(this.setting('walsgit_discussion_cards_primaryCards')());\r\n\t\tconst desktopCardWidth = Number(this.setting('walsgit_discussion_cards_desktopCardWidth')());\r\n\t\tconst tabletCardWidth = Number(this.setting('walsgit_discussion_cards_tabletCardWidth')());\r\n\r\n        if (primaryCards < 0 || isNaN(primaryCards)) {\r\n            app.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.errors.primaryCards'));\r\n            return false;\r\n        }\r\n        if (desktopCardWidth < 10 || desktopCardWidth > 100 || isNaN(desktopCardWidth)) {\r\n            app.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.errors.desktopCardWidth'));\r\n            return false;\r\n        }\r\n        if (tabletCardWidth < 10 || tabletCardWidth > 100 || isNaN(tabletCardWidth)) {\r\n            app.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.errors.tabletCardWidth'));\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n\tsaveSettings(e) {\r\n        if (!this.onsubmit()) {\r\n            return;\r\n        }\r\n\t\tconst settings = this.dirty();\r\n\r\n        super.saveSettings(e)\r\n\t\t.then(() => {\r\n\t\t\tconst newSettings = {};\r\n\t\t\tfor (const key in settings) {\r\n\t\t\t\tlet endOfKey = key.replace('walsgit_discussion_cards_', '');\r\n\t\t\t\tendOfKey = endOfKey.replace(/^./, endOfKey.charAt(0).toUpperCase());\r\n\t\t\t\tconst newKey = 'walsgitDiscussionCards' + endOfKey;\r\n\t\t\t\tnewSettings[newKey] = settings[key];\r\n\t\t\t}\r\n\t\t\tapp.forum.pushAttributes(newSettings);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t});\r\n    }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/models/Tag'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/components/EditTagModal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","import Button from \"flarum/common/components/Button\";\r\nimport Modal from \"flarum/common/components/Modal\";\r\nimport Stream from \"flarum/common/utils/Stream\";\r\n\r\nlet defaultSettings = {};\r\n\r\nexport default class WdcTagSettingsModal extends Modal {\r\n\toninit(vnode) {\r\n\t\tsuper.oninit(vnode);\r\n\r\n\t\tthis.tagSettings = JSON.parse(this.attrs.model.data.attributes.walsgitDiscussionCardsTagSettings || null) || {};\r\n\r\n\t\tdefaultSettings = {\r\n\t\t\tprimaryCards: app.forum.data.attributes.walsgitDiscussionCardsPrimaryCards,\r\n\t\t\tdesktopCardWidth: app.forum.data.attributes.walsgitDiscussionCardsDesktopCardWidth,\r\n\t\t\ttabletCardWidth: app.forum.data.attributes.walsgitDiscussionCardsTabletCardWidth,\r\n\t\t}\r\n\t\t\r\n\t\tif (!this.tagSettings.hasOwnProperty('primaryCards') || this.tagSettings.primaryCards === null) {\r\n\t\t\tthis.tagSettings.primaryCards = defaultSettings.primaryCards;\r\n\t\t}\r\n\t\tif (!this.tagSettings.hasOwnProperty('desktopCardWidth') || this.tagSettings.desktopCardWidth === null) {\r\n\t\t\tthis.tagSettings.desktopCardWidth = defaultSettings.desktopCardWidth;\r\n\t\t}\r\n\t\tif (!this.tagSettings.hasOwnProperty('tabletCardWidth') || this.tagSettings.tabletCardWidth === null) {\r\n\t\t\tthis.tagSettings.tabletCardWidth = defaultSettings.tabletCardWidth;\r\n\t\t}\r\n\r\n\t\tthis.tagSettings.primaryCards = Stream(this.tagSettings.primaryCards);\r\n\t\tthis.tagSettings.desktopCardWidth = Stream(this.tagSettings.desktopCardWidth);\r\n\t\tthis.tagSettings.tabletCardWidth = Stream(this.tagSettings.tabletCardWidth);\r\n\t\t\r\n\t}\r\n\tclassName() {\r\n\t\treturn \"WdcTagSettingsModal Modal--large\";\r\n\t}\r\n\r\n\ttitle() {\r\n\t\treturn [\r\n\t\t\tapp.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.title\"),\r\n\t\t\t<span \r\n\t\t\t\tclassName=\"TagLabel colored\"\r\n\t\t\t\tstyle={\"--tag-bg: \" + this.attrs.model.data.attributes.color + \";\"}\r\n\t\t\t>\r\n\t\t\t\t<span className=\"TagLabel-text\">\r\n\t\t\t\t\t<span className=\"TagLabel-name\">{this.attrs.model.data.attributes.name}</span>\r\n\t\t\t\t</span>\r\n\t\t\t</span>\r\n\t\t]\r\n\t}\r\n\r\n\tcontent() {\r\n\t\treturn [\r\n\t\t\t<div className=\"Modal-body\">\r\n\t\t\t\t<div className=\"Form\">\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.intro_text\")}\r\n\t\t\t\t\t</p>\r\n                        \r\n\t\t\t\t\t<div className=\"Form-group\">\r\n\t\t\t\t\t\t<label htmlFor=\"primaryCards\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.primaryCards_label\")}</label>\r\n\t\t\t\t\t\t<div className=\"helpText\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.primaryCards_help\", {default: defaultSettings.primaryCards})}</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"primaryCards\"\r\n\t\t\t\t\t\t\tclassName=\"FormControl DC-Number\"\r\n\t\t\t\t\t\t\tbidi={this.tagSettings.primaryCards}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Form-group\">\r\n\t\t\t\t\t\t<label htmlFor=\"desktopCardWidth\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.desktopCardWidth_label\")}</label>\r\n\t\t\t\t\t\t<div className=\"helpText\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.desktopCardWidth_help\", {default: defaultSettings.desktopCardWidth})}</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"desktopCardWidth\"\r\n\t\t\t\t\t\t\tclassName=\"FormControl DC-Number\"\r\n\t\t\t\t\t\t\tbidi={this.tagSettings.desktopCardWidth}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Form-group\">\r\n\t\t\t\t\t\t<label htmlFor=\"tabletCardWidth\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.tabletCardWidth_label\")}</label>\r\n\t\t\t\t\t\t<div className=\"helpText\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.tabletCardWidth_help\", {default: defaultSettings.tabletCardWidth})}</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"tabletCardWidth\"\r\n\t\t\t\t\t\t\tclassName=\"FormControl DC-Number\"\r\n\t\t\t\t\t\t\tbidi={this.tagSettings.tabletCardWidth}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"Button Button--primary\"\r\n\t\t\t\t\t\tloading={this.loading}\r\n\t\t\t\t\t\tdisabled={this.changed()}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.submit_button\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>,\r\n\t\t];\r\n\t}\r\n\tchanged() {\r\n\t\tlet savedSettings = JSON.parse(this.attrs.model.data.attributes.walsgitDiscussionCardsTagSettings || 'null') || {};\r\n\r\n\t\tfunction isSameSettings(obj1, obj2) {\r\n\t\t\tif(typeof obj1 !== 'object' ||typeof obj2 !== 'object') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (Object.keys(obj1).length !== Object.keys(obj2).length) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tfor (const key in obj1) {\r\n\t\t\t\tif (obj1.hasOwnProperty(key)) {\r\n\t\t\t\t\tif (typeof obj1[key] === 'object' && typeof obj2[key] === 'object') {\r\n\t\t\t\t\t\tif (!compareObjects(obj1[key], obj2[key])) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (obj1[key] !== obj2[key]) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn isSameSettings(JSON.parse(JSON.stringify(this.tagSettings)), savedSettings);\r\n\t}\r\n\r\n\tonsubmit(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst primaryCards = parseInt(this.tagSettings.primaryCards());\r\n\t\tif (isNaN(primaryCards) || primaryCards < 0) {\r\n\t\t\tapp.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.errors.primaryCards'));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tconst desktopWidth = parseInt(this.tagSettings.desktopCardWidth());\r\n\t\tif (isNaN(desktopWidth) || desktopWidth < 10 || desktopWidth > 100) {\r\n\t\t\tapp.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.errors.desktopCardWidth'));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tconst tabletWidth = parseInt(this.tagSettings.tabletCardWidth());\r\n\t\tif (isNaN(tabletWidth) || tabletWidth < 10 || tabletWidth > 100) {\r\n\t\t\tapp.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.errors.tabletCardWidth'));\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst tag = this.attrs.model;\r\n\r\n\t\tthis.tagSettings.primaryCards(primaryCards);\r\n\t\tthis.tagSettings.desktopCardWidth(desktopWidth);\r\n\t\tthis.tagSettings.tabletCardWidth(tabletWidth);\r\n\r\n\t\tconst tagSettings = JSON.stringify(this.tagSettings);\r\n\r\n\t\tthis.loading = true;\r\n\r\n\t\tapp.request({\r\n\t\t\tmethod: \"PATCH\",\r\n\t\t\turl:\r\n\t\t\t\tapp.forum.attribute(\"apiUrl\") +\r\n\t\t\t\t\"/tags/\" +\r\n\t\t\t\ttag.id() +\r\n\t\t\t\t\"/tagSettings\",\r\n\t\t\tbody: { data: { tagSettings } },\r\n\t\t}).then(function () {\r\n\t\t\ttag.data.attributes.walsgitDiscussionCardsTagSettings = tagSettings;\r\n\t\t\tapp.modal.close();\r\n\t\t});\r\n\t}\r\n}\r\n","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/classList'];","import app from \"flarum/admin/app\";\r\nimport Button from \"flarum/common/components/Button\";\r\nimport classList from \"flarum/common/utils/classList\";\r\nimport EditTagModal from \"flarum/tags/components/EditTagModal\";\r\n\r\n\r\nexport default class UploadTagImageButton extends Button {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.tagId = props.attrs.tagId;\r\n\t}\r\n\t\r\n\tloading = false;\r\n\r\n\tview(vnode) {\r\n\t\tthis.attrs.loading = this.loading;\r\n\t\tthis.attrs.className = classList(this.attrs.className, \"Button\");\r\n\r\n\t\tif (app.store.data.tags[this.tagId].data.attributes.walsgitDiscussionCardsTagDefaultImage) {\r\n\t\t\tthis.attrs.onclick = this.remove.bind(this);\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"DC-TagDefaultImage\"\r\n\t\t\t\t\t\t\tsrc={\"assets/\" + app.store.data.tags[this.tagId].data.attributes.walsgitDiscussionCardsTagDefaultImage}\r\n\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\twidth=\"200px\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{super.view({\r\n\t\t\t\t\t\t\t...vnode,\r\n\t\t\t\t\t\t\tchildren: app.translator.trans(\r\n\t\t\t\t\t\t\t\t\"core.admin.upload_image.remove_button\"\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tthis.attrs.onclick = this.upload.bind(this);\r\n\t\t}\r\n\r\n\t\treturn super.view({\r\n\t\t\t...vnode,\r\n\t\t\tchildren: app.translator.trans(\r\n\t\t\t\t\"core.admin.upload_image.upload_button\"\r\n\t\t\t),\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Prompt the user to upload an image.\r\n\t */\r\n\tupload() {\r\n\t\tif (this.loading) return;\r\n\r\n\t\tconst $input = $('<input type=\"file\">');\r\n\r\n\t\t$input\r\n\t\t\t.appendTo(\"body\")\r\n\t\t\t.hide()\r\n\t\t\t.trigger(\"click\")\r\n\t\t\t.on(\"change\", (e) => {\r\n\t\t\t\tconst body = new FormData();\r\n\t\t\t\tbody.append(this.attrs.name, $(e.target)[0].files[0]);\r\n\t\t\t\tbody.append('tagId', this.tagId);\r\n\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tm.redraw();\r\n\r\n\t\t\t\tapp.request({\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\turl: this.resourceUrl(),\r\n\t\t\t\t\tserialize: (raw) => raw,\r\n\t\t\t\t\tbody,\r\n\t\t\t\t}).then(this.success.bind(this), this.failure.bind(this));\r\n\t\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Remove the image.\r\n\t */\r\n\tremove() {\r\n\t\tthis.loading = true;\r\n\t\tm.redraw();\r\n\t\t\r\n\t\tconst body = new FormData();\r\n\t\tbody.append('tagId', this.tagId);\r\n\r\n\t\tapp.request({\r\n\t\t\tmethod: \"DELETE\",\r\n\t\t\turl: this.resourceUrl(),\r\n\t\t\tbody,\r\n\t\t}).then(this.success.bind(this), this.failure.bind(this));\r\n\t}\r\n\r\n\tresourceUrl() {\r\n\t\treturn app.forum.attribute(\"apiUrl\") + \"/\" + this.attrs.name;\r\n\t}\r\n\r\n\t/**\r\n\t * After a successful upload/removal, reload the page.\r\n\t *\r\n\t * @param {object} response\r\n\t * @protected\r\n\t */\r\n\tsuccess(response) {\r\n\t\twindow.location.reload();\r\n\t}\r\n\r\n\t/**\r\n\t * If upload/removal fails, stop loading.\r\n\t *\r\n\t * @param {object} response\r\n\t * @protected\r\n\t */\r\n\tfailure(response) {\r\n\t\tthis.loading = false;\r\n\t\tm.redraw();\r\n\t}\r\n}\r\n","import app from \"flarum/app\";\r\nimport Settings from \"./components/Settings\";\r\nimport { extend } from \"flarum/extend\";\r\nimport Model from \"flarum/common/Model\";\r\nimport Button from \"flarum/common/components/Button\";\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport Tag from \"flarum/tags/models/Tag\";\r\nimport EditTagModal from \"flarum/tags/components/EditTagModal\";\r\nimport WdcTagSettingsModal from \"./components/WdcTagSettingsModal\";\r\nimport UploadTagImageButton from \"./components/UploadTagImageButton\";\r\n\r\napp.initializers.add(\"aoang-git-flarum-discussion-cards\", () => {\r\n\tTag.prototype.WdcDefaultImage = Model.attribute(\r\n\t\t\"walsgit_discussion_cards_tag_default_image\"\r\n\t);\r\n\r\n\textend(EditTagModal.prototype, \"fields\", function (items) {\r\n\t\tif (this.tag.id()) {\r\n\t\t\tlet allowedTags = JSON.parse(app.forum.attribute('walsgitDiscussionCardsAllowedTags'));\r\n\t\t\tlet isActivatedForTag = allowedTags.includes(this.tag.id());\r\n\t\t\t\r\n\t\t\tlet activationBtnClasses = isActivatedForTag\r\n\t\t\t\t? \"DC-ActivationBtn Button activated\"\r\n\t\t\t\t: \"DC-ActivationBtn Button Button--primary\";\r\n\t\t\tlet DcTagSettingsClasses = isActivatedForTag ? \"DC-TagSettings\" : \"DC-TagSettings DC-Hidden\";\r\n\t\t\tlet activationBtnText = isActivatedForTag\r\n\t\t\t\t? app.translator.trans(\"walsgit_discussion_cards.admin.tags.deactivation_button\")\r\n\t\t\t\t: app.translator.trans(\"walsgit_discussion_cards.admin.tags.activation_button\");\r\n\t\t\t\r\n\t\t\tconst toggleActivation = () => {\r\n\t\t\t\tisActivatedForTag = !isActivatedForTag;\r\n\t\t\t\tif (isActivatedForTag) {\r\n\t\t\t\t\tallowedTags.push(this.tag.id());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tallowedTags = allowedTags.filter(id => id !== this.tag.id());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tapp.request({\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\turl: app.forum.attribute(\"apiUrl\") + \"/walsgit_discussion_cards_tag_update_allowedTags\",\r\n\t\t\t\t\tbody: { allowedTags },\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tapp.forum.data.attributes.walsgitDiscussionCardsAllowedTags = JSON.stringify(allowedTags);\r\n\t\t\t\t\tapp.data.settings.walsgit_discussion_cards_allowedTags = JSON.stringify(allowedTags);\r\n\r\n\t\t\t\t\tisActivatedForTag = !isActivatedForTag;\r\n\t\t\t\t\tactivationBtnClasses = isActivatedForTag\r\n\t\t\t\t\t\t? \"DC-ActivationBtn Button activated\"\r\n\t\t\t\t\t\t: \"DC-ActivationBtn Button Button--primary\";\r\n\t\t\t\t\tDcTagSettingsClasses = isActivatedForTag ? \"DC-TagSettings\" : \"DC-TagSettings DC-Hidden\";\r\n\t\t\t\t\tactivationBtnText = isActivatedForTag\r\n\t\t\t\t\t\t? app.translator.trans(\"walsgit_discussion_cards.admin.tags.deactivation_button\")\r\n\t\t\t\t\t\t: app.translator.trans(\"walsgit_discussion_cards.admin.tags.activation_button\");\r\n\t\t\t\t\tm.redraw();\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\titems.add(\r\n\t\t\t\t\"tag-discussion-cards-options\",\r\n\t\t\t\t<fieldset className=\"DC-Fieldset\">\r\n\t\t\t\t\t<legend>\r\n\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tags.options_heading\")}\r\n\t\t\t\t\t</legend>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={activationBtnClasses}\r\n\t\t\t\t\t\ticon=\"fas fa-border-all\"\r\n\t\t\t\t\t\tonclick={toggleActivation}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{activationBtnText}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className={DcTagSettingsClasses}>\r\n\t\t\t\t\t\t<div className=\"DC-TagDefaultImageSettings\">\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tags.defaultImage_title\")}\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tags.defaultImage_info\")}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{m(UploadTagImageButton, {\r\n\t\t\t\t\t\t\t\tname: \"walsgit_discussion_cards_tag_default_image\",\r\n\t\t\t\t\t\t\t\tclassName: \"DC-UploadTagImageBtn\",\r\n\t\t\t\t\t\t\t\tariaLabel: \"Upload a default image for this tag\",\r\n\t\t\t\t\t\t\t\ttagId: this.tag.id()\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"Button Button--primary\"\r\n\t\t\t\t\t\t\ticon=\"fas fa-border-all\"\r\n\t\t\t\t\t\t\tonclick={() => {\r\n\t\t\t\t\t\t\t\tapp.modal.show(WdcTagSettingsModal, { model: this.tag });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tags.options_button\")}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</fieldset>,\r\n\t\t\t\t-20\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n\r\n\tapp.extensionData.for(\"aoang-git-flarum-discussion-cards\").registerPage(Settings);\r\n});\r\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","isExtensionInstalled","extensionName","app","data","extensions","isExtensionActive","settings","extensions_enabled","includes","Settings","_ExtensionPage","apply","arguments","_proto","content","viewsExtension","mbViewsExtension","blogExtension","repostExtension","warningIcon","icon","m","className","trans","this","buildSettingComponent","type","setting","label","help","options","requireParentTag","min","step","placeholder","max","attribute","src","UploadImageButton","name","class","href","target","rel","disabled","submitButton","onsubmit","primaryCards","Number","desktopCardWidth","tabletCardWidth","isNaN","show","saveSettings","dirty","then","newSettings","endOfKey","replace","charAt","toUpperCase","pushAttributes","error","console","ExtensionPage","defaultSettings","WdcTagSettingsModal","_Modal","oninit","vnode","tagSettings","JSON","parse","attrs","model","attributes","walsgitDiscussionCardsTagSettings","forum","walsgitDiscussionCardsPrimaryCards","walsgitDiscussionCardsDesktopCardWidth","walsgitDiscussionCardsTabletCardWidth","Stream","title","translator","style","color","htmlFor","default","bidi","Button","loading","changed","savedSettings","obj1","obj2","keys","length","compareObjects","isSameSettings","stringify","preventDefault","parseInt","alerts","desktopWidth","tabletWidth","tag","request","method","url","id","body","modal","close","Modal","_extends","assign","n","r","UploadTagImageButton","_Button","props","_this","tagId","view","classList","tags","walsgitDiscussionCardsTagDefaultImage","onclick","remove","alt","width","children","upload","_this2","$","appendTo","hide","trigger","on","FormData","append","files","redraw","resourceUrl","serialize","raw","success","failure","response","window","location","reload","add","Tag","WdcDefaultImage","Model","extend","EditTagModal","items","allowedTags","isActivatedForTag","activationBtnClasses","DcTagSettingsClasses","activationBtnText","push","filter","walsgitDiscussionCardsAllowedTags","walsgit_discussion_cards_allowedTags","ariaLabel","registerPage"],"sourceRoot":""}